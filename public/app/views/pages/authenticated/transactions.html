<div class="accountSettings">
  <div class="navbar-default sidebar" role="navigation">
      <div class="sidebar-nav navbar-collapse">
          <ul class="nav" id="side-menu">
              <li>
                  <a href="/account">Account Info</a>
              </li>
              <li>
                  <a href="/transactions">Transactions History</a>
              </li>
              <li>
                  <a href="/update">Update Account</a>
              </li>
            </ul>
        </div>
  </div>
  <div class = "account-wrapper">
    <img src="assets/img/vstock logo/vstock-black.png">
    <h2 style="color:black;"> Still being made~</h2>
    <br><br><br><br><br>
    <h1> {{account.user.firstName}}'s Transactions </h1>
    <div class = "transactions-list">
      <div class="row transactions-headers">
        <div class="col-md-2 col-lg-1 col-sm-3 col-xs-3" ng-click="account.sortByField('stockTicker')">
          <a href="">Stock</a><img ng-if="!account.upSorted('stockTicker') && !account.downSorted('stockTicker')" class="double-caret-symbol" src="assets/img/double-caret.svg">
          <i ng-if="account.downSorted('stockTicker')" class="fa fa-caret-down" aria-hidden="true"></i>
          <i ng-if="account.upSorted('stockTicker')" class="fa fa-caret-up" aria-hidden="true"></i>
        </div>

        <div class="col-xs-3 col-sm-3 col-md-2 col-lg-1" ng-click="account.sortByField('transactionDate')">
          <a href="">Date</a><img ng-if="!account.upSorted('transactionDate') && !account.downSorted('transactionDate')" class="double-caret-symbol" src="assets/img/double-caret.svg">
          <i ng-if="account.downSorted('transactionDate')" class="fa fa-caret-down" aria-hidden="true"></i>
          <i ng-if="account.upSorted('transactionDate')" class="fa fa-caret-up" aria-hidden="true"></i>
        </div>

        <div class="col-md-2 col-lg-1 col-xs-3 col-sm-3" ng-click="account.sortByField('type')">
          <a href="">Type</a><img ng-if="!account.upSorted('type') && !account.downSorted('type')" class="double-caret-symbol" src="assets/img/double-caret.svg">
          <i ng-if="account.downSorted('type')" class="fa fa-caret-up" aria-hidden="true"></i>
          <i ng-if="account.upSorted('type')" class="fa fa-caret-down" aria-hidden="true"></i>
        </div>

        <!-- long form says quantity -->
        <div class="col-sm-3 col-md-2 col-lg-2 col-xs-hidden" ng-click="account.sortByField('num_shares')">
          <a href="">Quantity</a><img ng-if="!account.upSorted('num_shares') && !account.downSorted('num_shares')" class="double-caret-symbol" src="assets/img/double-caret.svg">
          <i ng-if="account.downSorted('num_shares')" class="fa fa-caret-up" aria-hidden="true"></i>
          <i ng-if="account.upSorted('num_shares')" class="fa fa-caret-down" aria-hidden="true"></i>
        </div>

        <div class="hidden-xs hidden-sm col-md-3 col-lg-2" ng-click="account.sortByField('pricePerShare')">
          <a href="">Price per Share</a><img ng-if="!account.upSorted('pricePerShare') && !account.downSorted('pricePerShare')" class="double-caret-symbol" src="assets/img/double-caret.svg">
          <i ng-if="account.downSorted('pricePerShare')" class="fa fa-caret-up" aria-hidden="true"></i>
          <i ng-if="account.upSorted('pricePerShare')" class="fa fa-caret-down" aria-hidden="true"></i>
        </div>

        <div class="hidden-sm hidden-md col-lg-2 hidden-xs" ng-click="account.sortByField('totalPrice')">
          <a href="">Total Price</a><img ng-if="!account.upSorted('totalPrice') && !account.downSorted('totalPrice')" class="double-caret-symbol" src="assets/img/double-caret.svg">
          <i ng-if="account.downSorted('totalPrice')" class="fa fa-caret-up" aria-hidden="true"></i>
          <i ng-if="account.upSorted('totalPrice')" class="fa fa-caret-down" aria-hidden="true"></i>
        </div>

        <div class="hidden-md col-lg-3 hidden-xs hidden-sm" ng-click="account.sortByField('percentProfit')">
          <a href="">Percent Profit (if applicable)</a><img ng-if="!account.upSorted('percentProfit') && !account.downSorted('percentProfit')" class="double-caret-symbol" src="assets/img/double-caret.svg">
          <i ng-if="account.downSorted('percentProfit')" class="fa fa-caret-up" aria-hidden="true"></i>
          <i ng-if="account.upSorted('percentProfit')" class="fa fa-caret-down" aria-hidden="true"></i>
        </div>

      </div>
    </div>

    <center>
      <h3 style="color: #737373" ng-if="account.loading">Loading Transactions Data...</h3>
      <img style="opacity: 0.5" ng-if="account.loading" src="/assets/img/39.gif">
    </center>

    <div class="row" ng-repeat="transaction in account.transactionList">
      <div class="col-md-2 col-lg-1 col-sm-3 col-xs-3">
        {{transaction.stockTicker}}
      </div>

      <div class="col-xs-3 col-sm-3 col-md-2 col-lg-1">
        {{transaction.transactionDate | date:'MM/dd/yyyy'}}
      </div>

      <div class="col-md-2 col-lg-1 col-xs-3 col-sm-3">
        {{transaction.type}}
      </div>

      <div class="col-sm-3 col-md-2 col-lg-2 col-xs-3">
        {{transaction.num_shares | number: 0}}
      </div>

      <div class="hidden-xs hidden-sm col-md-3 col-lg-2">
        ${{transaction.pricePerShare | number: 2}}
      </div>

      <div class="hidden-sm hidden-md col-lg-2 hidden-xs">
        ${{transaction.totalPrice | number: 2}}
      </div>

      <div class="hidden-md col-lg-3 hidden-xs hidden-sm" ng-if="transaction.percentProfit || transaction.percentProfit == 0")>
        {{transaction.percentProfit | number: 2}}%
      </div>
    </div>
  </div>
</div>
